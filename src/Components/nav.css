nav {
  padding: 4px 0;
  background: white;
  border-bottom: 1px solid #e5e7eb;
}

.nav__container {
  width: 100%;
  max-width: 1200px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 0 auto;
  padding: 4px 16px;
}

.title__wrapper {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

.logo {
  width: 100px;
  height: 100px;
}

.title__name {
  font-size: 32px;
  color: #242424;
  margin-left: 12px;
  font-weight: bold;
}

.nav__links {
  display: flex;
  flex: 1 1 auto;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 1rem 2rem;
  padding: 4px;
  margin: 4px;
  list-style: none;
}

.nav__links li {
  list-style: none;
  position: relative;
}

.dropdown {
  position: relative;
}

.dropdown__toggle {
  display: flex;
  align-items: center;
  font-size: 16px;
  color: #242424;
  text-decoration: none;
  padding: 6px 8px;
  cursor: pointer;
}

.dropdown__toggle:hover {
  color: blue;
}

.dropdown__toggle .chevron {
  display: inline-block;
  margin-left: 6px;
  font-size: 12px;
  transition: transform 0.3s ease;
}

.dropdown:hover > .dropdown__toggle .chevron {
  transform: rotate(180deg);
}

.dropdown__menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  padding: 8px 0;
  min-width: 200px;
  z-index: 1000;
}

.dropdown:hover > .dropdown__menu {
  display: block;
}

.dropdown__link {
  display: block;
  padding: 8px 16px;
  color: #242424;
  text-decoration: none;
}

.dropdown__link:hover {
  background-color: #f5f5f5;
  color: blue;
}

.dropdown-sub {
  position: relative;
  margin: 0;
  padding: 0;
}

.dropdown__submenu {
  display: none;
  position: absolute;
  top: 0;
  left: 100%;
  background: white;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  padding: 8px 0;
  min-width: 200px;
  z-index: 1001;
}

.dropdown-sub:hover > .dropdown__submenu {
  display: block;
}

.dropdown-sub > .dropdown__toggle .chevron {
  transition: transform 0.3s ease;
}

.dropdown-sub:hover > .dropdown__toggle .chevron {
  transform: rotate(90deg);
}

.dropdown__submenu .dropdown__link {
  padding: 8px 16px;
  white-space: nowrap;
}

.dropdown__submenu .dropdown__link:hover {
  background-color: #f5f5f5;
  color: blue;
}

.dropdown__submenu--below {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  padding: 8px 0;
  min-width: 220px;
  z-index: 1001;
}

.dropdown__sub:hover > .dropdown__submenu--below {
  display: block;
}

.dropdown__submenu--below .dropdown__link {
  display: block;
  padding: 8px 16px;
  text-align: left;
  white-space: nowrap;
}

.dropdown__submenu--below .dropdown__link:hover {
  background-color: #f5f5f5;
  color: blue;
}

.dropdown__toggle,
.dropdown__link--submenu {
  display: flex;
  align-items: center;
  justify-content: space-between; 
  padding: 8px 12px;
  line-height: 1.2;
  white-space: nowrap;
  box-sizing: border-box;
  font-size: 16px;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.dropdown__link--submenu:hover {
  background-color: #f5f5f5;
  color: blue;
}

.dropdown__link--submenu .chevron {
  margin-left: 6px;
  font-size: 12px;
  transition: transform 0.3s ease;
}

.dropdown-sub:hover > .dropdown__link--submenu .chevron {
  transform: rotate(90deg);
}

.nav__links,
.nav__links li,
.dropdown__menu,
.dropdown__submenu {
  white-space: nowrap;
}

.dropdown__toggle .chevron,
.dropdown__link--submenu .chevron {
  display: inline-block;
  vertical-align: middle;
}

.btn__menu {
  background-color: transparent;
  font-size: 32px;
  border: none;
  color: #242424;
  display: none;
  padding-right: 16px;
}

.menu__backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  overflow-y: auto;
  z-index: 998;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  visibility: hidden;
  opacity: 0;
  transition: all 300ms ease;
  transform: translateX(100%);
  background-color: #242424;
}

.menu--open .menu__backdrop {
  visibility: visible;
  opacity: 1;
  transform: translateX(0);
}

.menu__links {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
  list-style: none;
  padding: 5.5rem 1.5rem;
  margin: 0;
  width: 100%;
}

.menu__links li {
  position: relative;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
  list-style: none;
  margin: 0.5rem 0;
  width: 100%;
}

.menu__link,
.menu__link-btn {
  color: white;
  font-size: 10px;
  text-decoration: none;
  background: none;
  border: none;
  width: auto;
  padding: 6px 6px;
  display: inline-flex;
  justify-content: flex-start;
  text-align: left;
  align-items: center;
  cursor: pointer;
  min-width: 120px;
}

.menu__link-btn .chevron,
.menu__link .chevron {
  margin-left: 6px;
  transition: transform 0.25s ease;
}

.menu__item.open > .menu__link-btn .chevron,
.menu__item.open > .menu__link .chevron {
  transform: rotate(180deg);
}

.mobile-flyout {
  position: absolute;
  left: calc(15% + 8px);
  min-width: 180px;
  max-height: calc(100vh - 5.5rem);
  background: #2b2b2b;
  border-left: 2px solid rgba(255,255,255,0.06);
  display: none;
  flex-direction: column;
  padding: 6px 0;
  border-radius: 0 6px 6px 0;
  z-index: 9999;
  list-style: none;
}


.mobile-flyout .mobile-flyout {
  position: absolute;
  left: calc(85% + 8px);
  min-width: 180px;
  max-height: calc(100vh - 5.5rem);
  background: #2b2b2b;
  border-left: 2px solid rgba(255,255,255,0.06);
  display: none;
  flex-direction: column;
  padding: 6px 0;
  border-radius: 0 6px 6px 0;
  z-index: 9999;
  list-style: none;
}

.menu__item.open > .mobile-flyout {
  display: flex;
  animation: flyIn 0.2s ease;
}

.mobile-flyout li {
  padding: 10px 12px;
  white-space: nowrap;
}

.mobile-flyout li a {
  color: white;
  text-decoration: none;
  display: block;
}

.mobile-flyout li:hover {
  background: rgba(255,255,255,0.03);
}

@keyframes flyInRight {
  from { opacity: 0; transform: translateX(-6px); }
  to   { opacity: 1; transform: translateX(0); }
}

.btn__menu--close {
  position: absolute;
  top: 10px;
  right: 20px;
  color: white;
  background: none;
  border: none;
  z-index: 10001;
}

@media (max-width: 1286px) {

  .dropdown__menu {
    left: auto !important;   
    right: 0 !important;     
    transform-origin: top right;
    font-size: 12px;
    min-width: 180px;
  }

  .dropdown__submenu {
    left: auto !important;  
    right: 100% !important;  
    transform-origin: center left;
    font-size: 12px;
    min-width: 160px;
  }

  .dropdown__menu,
  .dropdown__submenu {
    overflow: visible !important;
    z-index: 2000; 
    white-space: nowrap; 
  }
}

@media (max-width: 824px) {
  .nav__links { display: none; }
  .btn__menu { display: block; }

  .dropdown__menu { display: none !important; }
  .dropdown__link { padding: 8px 0; color: white; }
}

.menu__link:hover,
.menu__link-btn:hover,
.mobile-flyout li a:hover {
  background-color: #f5f5f5;
  color: blue;
  width: auto;
  border-radius: 4px;
}

/* =========================================================
   RESPONSIVE BURGER FLYOUT SCALING
   ========================================================= */

/* Base structure already set above for desktop â€” this just scales down the entire flyout container */
@media (max-width: 444px) {
  .mobile-flyout {
    transform: scale(0.9);           /* Shrinks everything evenly */
    transform-origin: top left;      /* Keeps alignment consistent */
    font-size: 0.9em;                /* Secondary scaling for text */
  }

  .mobile-flyout .mobile-flyout {
    transform: scale(0.9);
    transform-origin: top left;
    font-size: 0.9em;
  }
}

.mobile-flyout a,
.mobile-flyout .mobile-flyout a {
  white-space: normal;      /* allows multi-line wrapping */
  word-break: break-word;   /* breaks long words if necessary */
  overflow-wrap: anywhere;  /* ensures no text runs off edge */
  line-height: 1.3;         /* keeps spacing balanced when wrapping */
}

@media (max-width: 443px) {
  .mobile-flyout {
    transform: scale(0.8);
    transform-origin: top left;
    font-size: 0.85em;
  }

  .mobile-flyout .mobile-flyout {
    transform: scale(0.8);
    transform-origin: top left;
    font-size: 0.85em;
  }
}

@media (max-width: 480px) {
  .mobile-flyout {
    transform: scale(0.8);
    transform-origin: top left;
    font-size: 0.85em;
    left: 4%; /* push the whole menu slightly away from the left edge */
  }

  .mobile-flyout .mobile-flyout {
    transform: scale(0.8);
    transform-origin: top left;
    font-size: 0.85em;
    left: 95%; /* pushes the nested flyouts to the right a bit more */
    
  }

  /* make sure sublinks don't clip offscreen */
  .mobile-flyout,
  .mobile-flyout .mobile-flyout {
    max-width: 90vw;        /* keeps them inside the screen width */
    overflow-x: visible;    /* allows sublinks to fully display */
  }
}
